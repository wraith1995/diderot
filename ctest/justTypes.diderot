#version 3.0

type mesh msh = file("firstMesh.json");
type functionSpace{msh}[2,2] fns = file("firstMesh.json");
type femFunction{fns} FUNC = file("firstMesh.json");

input msh a;
input fns b = fns(a);
input FUNC c = FUNC(b);
refCell{msh} AAA = a.refcell();

strand gg(int i, cell{msh} j){
  output position{msh} pos = a.findPos([0.0,0.0]);
  position{msh} meh = AAA.exit(pos, [0.5,0.5]);

  update{
    print(meh.refPos);
    stabilize;
  }
} create_collection {gg(j,k) | j in a1, k in a.cells()};
